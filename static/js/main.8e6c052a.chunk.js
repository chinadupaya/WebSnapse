(this.webpackJsonpthesis=this.webpackJsonpthesis||[]).push([[0],{112:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},152:function(e,t){},154:function(e,t){},179:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n.n(r),i=n(14),c=n.n(i),o=(n(112),n(67)),l=n(40),u=n(106),d=n(10),j=n.n(d),h=n(18),b=n(8),f=(n(114),n(115),n(97)),p=n(55),O=n(186),x=n(187),g=n(188),v=n(200),m=n(98),y=n(201),k=n(192),w=n(99),C=n(202),S=n(189),N=n(190),R=n(191),E=n(193),M=n(194),_=n(195),D=n(196),I=n(197),T=n(198),H=n(68),A=n(81),L=n.n(A),z=n(23),F=[{selector:".snapse-node, .snapse-output",style:{"font-family":"Computer Modern","background-opacity":"0","padding-top":"0","border-width":0,"text-halign":"left","text-valign":"top",color:"black",content:"data(label)"}},{selector:".snapse-node__rules, .snapse-node__output",style:(a={"font-family":"Computer Modern","background-color":"white","border-width":1,events:"no","text-wrap":"wrap","text-halign":"center","text-valign":"center"},Object(z.a)(a,"text-wrap","wrap"),Object(z.a)(a,"content","data(label)"),Object(z.a)(a,"height",150),Object(z.a)(a,"shape","roundrectangle"),Object(z.a)(a,"width",100),a)},{selector:".snapse-node__time, .snapse-node__spike",style:{"font-family":"Computer Modern","background-opacity":"0","text-halign":"center","text-valign":"center",content:"data(label)",events:"no",height:15,shape:"roundrectangle",width:50}},{selector:"edge",style:{"font-family":"Computer Modern","curve-style":"bezier","target-arrow-shape":"triangle","text-background-color":"white","text-background-shape":"rectangle",width:1}},{selector:".edge--triggering",style:{"line-color":"magenta","line-style":"dashed","target-arrow-color":"magenta",width:3}}],G=n(45),B=n.n(G);var P=function(){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t,n=e.current,a=0;return function e(){a++,n&&n.edges().animate({style:{"line-dash-offset":-a}}),t=requestAnimationFrame(e)}(),function(){t&&cancelAnimationFrame(t)}}),[]),[e,function(t){e.current=t}]},J=n(56),q=function(e,t,n,a,r,s){return[{data:{rootId:e,id:"".concat(e),label:a},classes:"snapse-output",position:{x:0,y:0}},{data:{rootId:e,id:"".concat(e,"-output"),parent:e,label:r},classes:"snapse-node__output",position:{x:t,y:n}},{data:{rootId:e,id:"".concat(e,"-spike"),parent:e,label:s},classes:"snapse-node__spike",position:{x:t,y:n+40}}]},W=function(e){var t=/(a+)(\(*a*\)*)(\+*\**)\/(a+)->(a+);([0-9]+)/.exec(e)||/(a+)(\+*\**)\/(a+)->(0);(0)/.exec(e);return console.log(t),t},X=function(e,t,n){return{data:{id:e+"-"+t,source:e,target:t},classes:n}},U=function(e){for(var t=e.split(" "),n=0,a=0;a<t.length;a++)null!=W(t[a])?n+=1:console.log("invalidRule",t[a]);return n==t.length?1:0},V=n(184),K=n(1),Q=function(e){var t=e.neurons,n=e.onEdgeCreate,a=e.handleChangePosition,s=P(),i=Object(b.a)(s,2),c=i[0],o=i[1];var l=function(e){var t,n,a,r,s,i,c={nodes:[],edges:[]};for(var o in e){var l=e[o];if(l.isOutput){var u=q(l.id,l.position.x,l.position.y,l.id,l.bitstring,0);c.nodes.push(u[0]),c.nodes.push(u[1]),c.nodes.push(u[2])}else{var d=(t=l.id,n=l.position.x,a=l.position.y,r=l.rules,s=l.spikes,i=l.delay,[{data:{id:t,label:t},position:{x:n,y:a},classes:"snapse-node"},{data:{id:t+"-rules",parent:t,label:r.replace(/ /g,"\n")},position:{x:n,y:a},classes:"snapse-node__rules"},{data:{id:t+"-spike",parent:t,label:"".concat(0==s?"\u03bb":s)},position:{x:n,y:a-60},classes:"snapse-node__spike"},{data:{id:t+"-time",parent:t,label:i},position:{x:n,y:a+90},classes:"snapse-node__time"}]);c.nodes.push(d[0]),c.nodes.push(d[1]),c.nodes.push(d[2]),c.nodes.push(d[3])}if(l.out)for(var j=0;j<l.out.length;j++)if(l.delay<0){console.log(l.delay);var h,b=Object(J.a)(l.out);try{for(b.s();!(h=b.n()).done;){h.value;var f=X(l.id,l.out[j]," edge--triggering");c.edges.push(f)}}catch(O){b.e(O)}finally{b.f()}}else{var p=X(l.id,l.out[j],"");c.edges.push(p)}}return c}(t);return Object(r.useEffect)((function(){var e=c.current;e&&(e.on("mouseup",".snapse-node, .snapse-output",(function(e){console.log("change position",e.target.id()),a(e.position,e.target.id())})),e.gridGuide({guidelinesStyle:{strokeStyle:"black",horizontalDistColor:"#ff0000",verticalDistColor:"green",initPosAlignmentColor:"#0000ff"}}),e.edgehandles({handleNodes:".snapse-node, .snapse-output",preview:!1,loopAllowed:function(){return!1},edgeType:function(e,t){return"flat"},complete:n}))}),[c]),Object(K.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(K.jsxs)(m.a,{className:"center-graph-button",variant:"secondary",onClick:function(){var e=c.current;e&&(e.center(),e.fit(),e.zoom({level:.8,position:{x:100,y:100}}))},children:[Object(K.jsx)(V.a,{})," ","Center Graph"]}),Object(K.jsx)(L.a,{cy:o,elements:L.a.normalizeElements(l),style:{width:"100%",height:"100%"},stylesheet:F})]})},Y=n(57),Z=n.n(Y),$=n(49);function ee(e){/(a+)(\+*\**)\/(a+)->(a+);([0-9]+)/.exec(e);var t=/(a+)(\(*a*\)*)(\+*\**)\/(a+)->(a+);([0-9]+)/.exec(e),n=/(a+)(\(*a*\)*)(\+*\**)\/(a+)->(0);(0)/.exec(e);if(t){var a=Object(b.a)(t,7),r=a[1],s=a[2],i=a[3],c=a[4],o=a[5],l=a[6],u=parseInt(l,10);return[r.length,s.length-2,i,c.length,o.length,u]}if(n){var d=Object(b.a)(n,7),j=d[1],h=d[2],f=d[3],p=d[4];d[5],d[6];return[j.length,h.length-2,f,p.length,0,0]}return!1}function te(e,t,n,a){if("+"==n){if(t>0)return(a-e)%t==0&&a-e>=t;if(a>=e)return!0}else if("*"==n){if(t>0)return(a-e)%t==0;if(a>=e-1)return!0}else if(a==e)return!0;return!1}function ne(e,t,n,a,r){var s=Object($.a)(e,(function(e){var t={},s=[],i={},c=!0;for(var o in e){if(!(S=e[o]).currentRule&&!S.isOutput){delete e[S.id].currentRule;for(var l=S.rules.split(" "),u=[],d=0;d<l.length;d++){var j=ee(l[d]),h=Object(b.a)(j,6),f=h[0],p=h[1],O=h[2],x=h[3],g=h[4],v=h[5];te(f,p,O,S.spikes)&&(u.push(l[d]),c=!1)}if(1==u.length){e[S.id].currentRule=u[0],e[S.id].chosenRule=u[0];var m=ee(u[0]),y=Object(b.a)(m,6);f=y[0],p=y[1],O=y[2],x=y[3],g=y[4],v=y[5];e[S.id].delay=v}else if(1==n&&u.length>1){var k=Math.floor(Math.random()*u.length),w=ee(u[k]),C=Object(b.a)(w,6);f=C[0],p=C[1],O=C[2],x=C[3],g=C[4],v=C[5];e[S.id].currentRule=u[k],e[S.id].chosenRule=u[k],e[S.id].delay=v}else 0==n&&u.length>1&&(i[S.id]=u)}}if(Object.keys(i).length>0)a(i);else{for(var o in e){var S;if((S=e[o]).currentRule){if(c=!1,S.delay>=0){var N=S.delay.valueOf();N--,e[S.id].delay=N}if(console.log(S.delay),S.delay<0){var R=ee(S.currentRule),E=Object(b.a)(R,6),M=(f=E[0],p=E[1],O=E[2],x=E[3],g=E[4],v=E[5],S.spikes.valueOf());M-=x,e[S.id].spikes=M;var _,D=S.out,I=Object(J.a)(D);try{for(I.s();!(_=I.n()).done;){var T=_.value;t[T]=T in t?t[T]+g:g}}catch(z){I.e(z)}finally{I.f()}delete e[S.id].currentRule}}else S.isOutput?(s.push(S.id),o in t||(t[o]=0)):-1==S.delay&&(e[S.id].delay=0)}for(var H in t){var A=e[H].spikes.valueOf();if(A+=t[H],e[H].spikes=A,e[H].isOutput){var L="".concat(e[H].bitstring).concat(t[H]||"0");e[H].bitstring=L}}c&&r()}}));return localStorage.setItem(t+"sec",JSON.stringify(s)),s}function ae(e){return console.log("back step automata"),JSON.parse(localStorage.getItem(e+"sec"))}var re,se,ie,ce=n(199),oe=function(e){var t=e.showChooseRuleModal,n=e.handleCloseChooseRuleModal,a=e.rules,s=e.handleChosenRules,i=Object(p.a)({}),c=Object(b.a)(i,2),o=c[0],l=c[1];function u(e,t){l((function(n){for(var a in n)a==t&&(n[a]=e.target.value)}))}Object(r.useEffect)((function(){l((function(e){for(var t in a)e[t]=a[t][0]}))}),[a]);for(var d=function(e,t){var n=t.map((function(e){return Object(K.jsx)("option",{value:e,children:e},e)}));return Object(K.jsxs)(y.a.Group,{children:[Object(K.jsx)(y.a.Label,{children:e}),Object(K.jsx)(y.a.Control,{as:"select",value:o[e],onChange:function(t){return u(t,e)},children:n})]})},j=Object.keys(a),h=[],f=0;f<j.length;f++)console.log(f),h.push(d(j[f],a[j[f]]));return Object(K.jsxs)(ce.a,{show:t,onHide:n,backdrop:"static",keyboard:!1,children:[Object(K.jsx)(ce.a.Header,{children:Object(K.jsx)(ce.a.Title,{children:"Choose Rule Form"})}),Object(K.jsx)(ce.a.Body,{children:Object(K.jsxs)(y.a,{onSubmit:function(e){e.preventDefault(),s(o)},children:[h,Object(K.jsx)(m.a,{type:"submit",children:"Submit"})]})})]})},le=function(e,t){return t.reset?{startingSpikes:0,rules:""}:Object(l.a)(Object(l.a)({},e),{},Object(z.a)({},t.name,t.value))},ue=function(e){var t=e.showNewNodeModal,n=e.handleCloseModal,a=e.handleNewNode,s=e.handleError,i=function(){n()},c=Object(r.useReducer)(le,{}),o=Object(b.a)(c,2),l=o[0],u=o[1],d=Object(r.useState)(!1),j=Object(b.a)(d,2),h=(j[0],j[1]),f=function(e){console.log(e.target.name),u({name:e.target.name,value:e.target.value})};return Object(K.jsxs)(ce.a,{show:t,onHide:i,children:[Object(K.jsx)(ce.a.Header,{closeButton:!0,children:Object(K.jsx)(ce.a.Title,{children:"Create New Node"})}),Object(K.jsx)(ce.a.Body,{children:Object(K.jsxs)(y.a,{onSubmit:function(e){e.preventDefault();var t=Z.a.generate();if(U(l.rules)){console.log("All rules valid"),i(),h(!0),setTimeout((function(){h(!1),u({reset:!0})}),3e3);var n={id:t,position:{x:100,y:100},rules:l.rules,startingSpikes:parseInt(l.startingSpikes),delay:0,spikes:parseInt(l.startingSpikes),isOutput:!1,out:[]};a(n)}else console.log("One or more of the rules is invalid"),s("One or more of the rules is invalid"),i()},children:[Object(K.jsxs)(y.a.Group,{children:[Object(K.jsx)(y.a.Label,{children:"Node Rules"}),Object(K.jsx)(y.a.Control,{required:!0,name:"rules",type:"text",placeholder:"a/a->a;0 aa/a->a;1",value:l.rules,onChange:f}),Object(K.jsx)(y.a.Text,{className:"text-muted",children:"Enter valid rules only. Separate each rule with a space."})]}),Object(K.jsxs)(y.a.Group,{children:[Object(K.jsx)(y.a.Label,{children:"Starting Spike Number"}),Object(K.jsx)(y.a.Control,{required:!0,name:"startingSpikes",type:"number",placeholder:"0",value:l.startingSpikes,onChange:f})]}),Object(K.jsx)(m.a,{variant:"secondary",onClick:i,children:"Close"})," "," ",Object(K.jsx)(m.a,{type:"submit",variant:"primary",children:"Save Changes"})]})})]})},de=function(e){var t=e.showEditModal,n=e.handleCloseEditModal,a=e.handleEditNode,s=e.handleError,i=e.neurons,c=Object(r.useState)(""),o=Object(b.a)(c,2),l=o[0],u=o[1],d=Object(r.useState)(""),j=Object(b.a)(d,2),h=j[0],f=j[1],p=Object(r.useState)(0),O=Object(b.a)(p,2),x=O[0],g=O[1],v=function(){n()};Object(r.useEffect)((function(){!function(){var e=Object.keys(i).reduce((function(e,t){return i[t].isOutput||(e[t]=i[t]),e}),{}),t=Object.keys(e);u(t[0]),f(e[t[0]].rules),g(e[t[0]].startingSpikes)}()}),[]);var k=Object.keys(i).reduce((function(e,t){return i[t].isOutput||(e[t]=i[t]),e}),{}),w=Object.keys(k).map((function(e){return Object(K.jsx)("option",{value:e,children:e},e)}));return Object(K.jsxs)(ce.a,{show:t,onHide:v,children:[Object(K.jsx)(ce.a.Header,{closeButton:!0,children:Object(K.jsx)(ce.a.Title,{children:"Edit Node"})}),Object(K.jsx)(ce.a.Body,{children:Object(K.jsxs)(y.a,{onSubmit:function(e){e.preventDefault(),U(h)?(console.log("All rules valid"),v(),setTimeout((function(){u(""),f(""),g(0)}),3e3),a(l,h,x)):(console.log("One or more of the rules is invalid"),s("One or more of the rules is invalid"))},children:[Object(K.jsxs)(y.a.Group,{children:[Object(K.jsx)(y.a.Label,{children:"Select node to edit"}),Object(K.jsx)(y.a.Control,{as:"select",value:l,onChange:function(e){var t=e.target.value;u(e.target.value),f(i[t].rules),g(i[t].startingSpikes)},children:w})]}),Object(K.jsxs)(y.a.Group,{children:[Object(K.jsx)(y.a.Label,{children:"Node Rules"}),Object(K.jsx)(y.a.Control,{required:!0,name:"rules",type:"text",placeholder:"a/a->a;0 aa/a->a;1",value:h,onChange:function(e){f(e.target.value)}}),Object(K.jsx)(y.a.Text,{className:"text-muted",children:"Enter valid rules only. Separate each rule with a space."})]}),Object(K.jsxs)(y.a.Group,{children:[Object(K.jsx)(y.a.Label,{children:"Starting Spike Number"}),Object(K.jsx)(y.a.Control,{required:!0,name:"startingSpikes",type:"number",placeholder:"0",value:x,onChange:function(e){return g(e.target.value)}})]}),Object(K.jsx)(m.a,{variant:"secondary",onClick:v,children:"Close"})," "," ",Object(K.jsx)(m.a,{type:"submit",variant:"primary",children:"Save Changes"})]})})]})},je=function(e){var t=e.showDeleteModal,n=e.handleCloseDeleteModal,a=e.handleDeleteNode,s=(e.handleError,e.neurons),i=Object(r.useState)(Object.keys(s)),c=Object(b.a)(i,2),o=c[0],l=c[1],u=function(){n()},d=Object.keys(s).map((function(e){return Object(K.jsx)("option",{value:e,children:e},e)})),j=Object.keys(s)[0];return Object(K.jsxs)(ce.a,{show:t,onHide:u,children:[Object(K.jsx)(ce.a.Header,{closeButton:!0,children:Object(K.jsx)(ce.a.Title,{children:"Delete Node"})}),Object(K.jsx)(ce.a.Body,{children:Object(K.jsxs)(y.a,{onSubmit:function(e){e.preventDefault(),""!==o?(u(),setTimeout((function(){l("")}),3e3),a(o)):(u(),setTimeout((function(){l("")}),3e3),a(j))},children:[Object(K.jsxs)(y.a.Group,{children:[Object(K.jsx)(y.a.Label,{children:"Select node to delete"}),Object(K.jsx)(y.a.Control,{as:"select",defaultValue:j,value:o,onChange:function(e){l(e.target.value)},children:d})]}),Object(K.jsx)(m.a,{variant:"secondary",onClick:u,children:"Close"})," "," ",Object(K.jsx)(m.a,{type:"submit",variant:"danger",children:"Delete neuron"})]})})]})},he=n(185),be=function(e){return Object(K.jsx)("td",{children:e})},fe=function(e){return Object(K.jsx)("tr",{children:e})},pe=function(e){var t=e.time,n=e.showChoiceHistoryModal,a=e.handleCloseHoiceHistoryModal,r=JSON.parse(localStorage.getItem(t-1+"sec")),s="There are no neurons";r&&(s=Object.keys(r).map((function(e){return Object(K.jsx)("th",{children:e},e)})));for(var i=[],c=0;c<t;c++){var o=[];o.push(be(c));var l=JSON.parse(localStorage.getItem(c+"sec"));for(var u in l)l[u].chosenRule?o.push(be(l[u].chosenRule)):o.push(be("No chosen rule"));i.push(fe(o)),o=[]}return Object(K.jsx)(ce.a,{show:n,onHide:a,children:Object(K.jsx)("div",{children:Object(K.jsxs)(he.a,{striped:!0,bordered:!0,hover:!0,children:[Object(K.jsx)("thead",{children:Object(K.jsxs)("tr",{children:[Object(K.jsx)("th",{children:"Time"}),s]})}),Object(K.jsx)("tbody",{children:i})]})})})},Oe=n(82),xe=n.n(Oe),ge=n(79),ve=n(11),me=n(100),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Are you sure you want to exit without saving your system?",t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1];Object(r.useEffect)((function(){return window.onbeforeunload=a&&function(){return e},function(){window.onbeforeunload=null}}),[a]);var i=Object(K.jsx)(ve.a,{when:a,message:e});return[i,function(){return s(!0)},function(){return s(!1)}]},ke={compact:!0,ignoreComment:!0,spaces:4,sanitize:!1},we={n1:{id:"n1",position:{x:50,y:50},rules:"a+/a->a;2",startingSpikes:1,delay:0,spikes:1,isOutput:!1,out:["n2"]},n2:{id:"n2",position:{x:200,y:50},rules:"a/a->a;1",startingSpikes:0,delay:0,spikes:0,isOutput:!1,out:["n3"]},n3:{id:"n3",position:{x:400,y:50},rules:"a/a->a;0",startingSpikes:1,delay:0,spikes:1,isOutput:!1,out:["n4"]},n4:{id:"n4",position:{x:400,y:200},isOutput:!0,spikes:0,bitstring:" "}};var Ce=Object(H.c)(re||(re=Object(o.a)(["\n  from {\n    transform: scaleX(100%);\n  }\n\n  to {\n    transform: scaleX(0%);\n  }\n"]))),Se=H.b.div(se||(se=Object(o.a)(["\n  ","\n  background-color: #c44569;\n  height: 4px;\n  transform-origin: left center;\n  margin-bottom: 2px;\n"])),(function(e){return e.isPlaying&&Object(H.a)(ie||(ie=Object(o.a)(["\n      animation: "," 3s linear; \n    "])),Ce)})),Ne=function(){var e=Object(p.a)(we),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(0),i=Object(b.a)(s,2),c=i[0],o=i[1],d=Object(r.useState)(!0),H=Object(b.a)(d,2),A=H[0],L=H[1],z=Object(r.useState)(""),F=Object(b.a)(z,2),G=F[0],B=F[1],P=ye(),J=Object(b.a)(P,3),q=J[0],W=J[1],X=J[2],U=Object(r.useState)(!1),V=Object(b.a)(U,2),Y=V[0],$=V[1],te=Object(r.useState)(!1),re=Object(b.a)(te,2),se=re[0],ie=re[1],ce=Object(r.useState)(!1),le=Object(b.a)(ce,2),he=le[0],be=le[1],fe=Object(r.useState)(!1),Oe=Object(b.a)(fe,2),Ce=Oe[0],Ne=Oe[1],Re=Object(r.useState)(!1),Ee=Object(b.a)(Re,2),Me=Ee[0],_e=Ee[1],De=Object(r.useState)(!1),Ie=Object(b.a)(De,2),Te=Ie[0],He=Ie[1],Ae=Object(r.useState)(!1),Le=Object(b.a)(Ae,2),ze=Le[0],Fe=Le[1],Ge=Object(r.useState)(""),Be=Object(b.a)(Ge,2),Pe=Be[0],Je=Be[1],qe=Object(r.useState)(0),We=Object(b.a)(qe,2),Xe=We[0],Ue=We[1],Ve=function(){return ie(!1)},Ke=function(){Fe(!0),He(!1),alert("Simuilation has ended.")},Qe=function(e){Je(e),setTimeout((function(){Je("")}),3e3)},Ye=function(){var e=Object(h.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("newEdge",t,n),e.next=3,a((function(e){var a=Object(u.a)(e[t].out);a.push(n),e[t].out=a}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(h.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a((function(e){e[n].position=t})),W();case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function $e(){return($e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a((function(e){e[t.id]=t}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(){return(et=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a((function(e){var t=Z.a.generate();e[t]={id:t,position:{x:300,y:300},isOutput:!0,spikes:0,bitstring:" "}}));case 2:W();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(){return(tt=Object(h.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleEditNode"),e.next=3,a((function(e){e[t].startingSpikes=r,e[t].spikes=r,e[t].rules=n}));case 3:W();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(){return(nt=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleDeleteNode",t),W(),console.log(n),e.next=5,a((function(e){for(var n in e){var a=e[n];if(!a.isOutput){a.out;var r=a.out.filter((function(e){return e!==t}));e[n].out=r}}delete e[t]}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var at=function(){a((function(e){return we})),o(0),He(!1),Fe(!1),localStorage.clear()},rt=Object(r.useState)({}),st=Object(b.a)(rt,2),it=st[0],ct=st[1],ot=function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(t);case 2:console.log(t),ie(!0),ie&&He(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==c&&(we=JSON.parse(JSON.stringify(n))),ze){e.next=7;break}return e.next=4,a((function(e){return ne(e,c,A,ot,Ke)}));case 4:o((function(e){return e+1})),e.next=8;break;case 7:alert("Simulation has ended");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c>1)){e.next=9;break}return t=c.valueOf(),Fe(!1),e.next=5,a((function(e){return ae(t-2)}));case 5:return e.next=7,o((function(e){return e-1}));case 7:e.next=10;break;case 9:1==c&&at();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useRef)(n).current=n;var dt=Object(r.useRef)(lt);return dt.current=function(){lt(),Ue((function(e){return e+1}))},Object(r.useEffect)((function(){if(Te)var e=setInterval((function(){dt.current()}),3e3);return function(){return clearInterval(e)}}),[Te,dt]),Object(r.useEffect)((function(){se&&console.log("showChooseRuleModal is true")}),[]),Object(K.jsx)(ge.a,{children:Object(K.jsx)(ve.d,{children:Object(K.jsx)(ve.b,{path:"/",children:Object(K.jsxs)(x.a,{children:[Pe&&Object(K.jsx)(g.a,{variant:"danger",children:Pe}),Object(K.jsxs)(f.slide,{children:[Object(K.jsxs)(v.a,{children:[Object(K.jsxs)(v.a.Toggle,{id:"dropdown-basic",children:[Object(K.jsx)(S.a,{})," ","Node Actions"]}),Object(K.jsxs)(v.a.Menu,{children:[Object(K.jsx)(v.a.Item,{children:Object(K.jsx)(m.a,{variant:"link",size:"sm",className:"node-actions text-primary",onClick:function(){return $(!0)},disabled:c>0,children:"New Node"})}),Object(K.jsx)(v.a.Item,{children:Object(K.jsx)(m.a,{variant:"link",size:"sm",className:"node-actions text-primary",onClick:function(){return et.apply(this,arguments)},disabled:c>0,children:"New Output Node"})}),Object(K.jsx)(v.a.Item,{children:Object(K.jsx)(m.a,{variant:"link",size:"sm",className:"node-actions text-info",onClick:function(){return be(!0)},disabled:c>0,children:"Edit"})}),Object(K.jsx)(v.a.Item,{children:Object(K.jsx)(m.a,{variant:"link",size:"sm",className:"node-actions text-danger",onClick:function(){return _e(!0)},disabled:c>0,children:"Delete"})})]})]}),Object(K.jsx)(y.a,{children:Object(K.jsx)(y.a.File,{id:"custom-file",label:G||"Load file...",custom:!0,onChange:function(e){!function(t){var n=t.files[0];if(Fe(!1),n.type&&-1===n.type.indexOf("text/xml"))Qe("File is not a xml file");else{var r=new FileReader,s=function(){var t=Object(h.a)(j.a.mark((function t(n,a){var r,s,c,o,l,u;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a._parent,r=Object.keys(a._parent),s=r.length,c=r[s-1],(o=a._parent[c]).length>0?(l=o,u=o.length-1,l[u]=n):"out"==c?a._parent[c]=[n]:"bitstring"==c?(console.log("bitstring"),a._parent[c]=""):a._parent[c]=i(n)}catch(e){}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();r.addEventListener("load",function(){var e=Object(h.a)(j.a.mark((function e(t){var r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={compact:!0,trim:!0,ignoreDeclaration:!0,ignoreInstruction:!0,ignoreAttributes:!0,ignoreComment:!0,ignoreCdata:!0,ignoreDoctype:!0,textFn:s},e.next=3,xe.a.xml2js(t.target.result,r);case 3:return i=e.sent,console.log(i.content),e.next=7,a((function(e){return i.content}));case 7:return e.next=9,a((function(e){for(var t in e)e[t].bitstring&&(console.log(e[t].bitstring),e[t].bitstring=" ")}));case 9:B(n.name);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.readAsText(n),o(0)}function i(e){var t=Number(e);if(!isNaN(t))return t;var n=e.toLowerCase();return"true"===n||"false"!==n&&e}}(e.target)}})}),Object(K.jsx)("div",{children:Object(K.jsxs)(m.a,{variant:"primary",disabled:c>0,onClick:function(){var e={content:n};console.log(n);var t=xe.a.json2xml(e,ke);console.log(e);var a=new Blob([t],{type:"text/xml;charset=utf-8"});Object(me.saveAs)(a,Date().toString()+"-Neurons.xmp"),X()},children:[Object(K.jsx)(N.a,{})," ","Save"]})}),Object(K.jsx)("div",{children:Object(K.jsxs)(m.a,{variant:"primary",onClick:function(){return Ne(!0)},children:[Object(K.jsx)(R.a,{})," ","Choice History"]})})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{style:{textAlign:"center"},children:Object(K.jsx)("h1",{style:{fontWeight:"700"},className:"text-primary",children:"WebSnapse"})}),Object(K.jsxs)(k.a,{children:[Object(K.jsx)(w.a,{children:Object(K.jsxs)("div",{children:[Object(K.jsxs)("div",{style:{backgroundColor:"#778beb",color:"white",borderRadius:"10px",padding:"0.5em"},children:[Object(K.jsx)(E.a,{color:"white",size:30})," ",Object(K.jsx)("strong",{children:"Time:"})," ",0==c?"Start playing!":c]}),Object(K.jsx)(y.a,{children:Object(K.jsx)(y.a.Group,{id:"formGridCheckbox",children:Object(K.jsxs)(k.a,{children:[Object(K.jsx)(w.a,{sm:5,children:Object(K.jsx)(y.a.Check,{type:"checkbox",label:"Pseudorandom",defaultChecked:A,onChange:function(){L(!A)}})}),Object(K.jsx)(w.a,{sm:1,style:{textAlign:"left"},children:Object(K.jsx)(C.a,{placement:"right",delay:{show:250,hide:400},overlay:function(e){return Object(K.jsx)(O.a,Object(l.a)(Object(l.a)({id:"button-tooltip"},e),{},{children:"Pseudorandom will allow the system to decide which rule will be executed. Unchecking it will let you decide."}))},children:Object(K.jsx)(M.a,{})})})]})})})]})}),Object(K.jsx)(w.a,{children:Object(K.jsxs)("div",{className:"snapse-controls",style:{textAlign:"center"},children:[Object(K.jsx)(m.a,{variant:"link",onClick:ut,children:Object(K.jsx)(_.a,{})})," ",Object(K.jsxs)("div",{style:{display:"inline-block"},children:[Object(K.jsx)(Se,{isPlaying:Te},Xe),Object(K.jsx)(m.a,{size:"lg",className:"snapse-controls-play",onClick:function(){ze?alert("Simulation has ended."):He((function(e){return!e}))},children:Te?Object(K.jsx)(D.a,{}):Object(K.jsx)(I.a,{})})]})," "," ",Object(K.jsx)(m.a,{variant:"link",onClick:function(){return lt()},children:Object(K.jsx)(T.a,{})})," "]})}),Object(K.jsxs)(w.a,{style:{textAlign:"right"},children:[Object(K.jsx)(m.a,{variant:"danger",onClick:at,children:"Restart"})," "]})]})]}),Object(K.jsx)("hr",{}),Object(K.jsx)(Q,{neurons:n,onEdgeCreate:function(e,t,n){Ye(e.id(),t.id()),n.remove()},handleChangePosition:Ze}),Object(K.jsx)(pe,{time:c,showChoiceHistoryModal:Ce,handleCloseHoiceHistoryModal:function(){return Ne(!1)}}),Object(K.jsx)(ue,{showNewNodeModal:Y,handleCloseModal:function(){return $(!1)},handleNewNode:function(e){return $e.apply(this,arguments)},handleError:Qe}),Object(K.jsx)(de,{showEditModal:he,handleCloseEditModal:function(){return be(!1)},handleEditNode:function(e,t,n){return tt.apply(this,arguments)},handleError:Qe,neurons:n}),Object(K.jsx)(je,{showDeleteModal:Me,handleCloseDeleteModal:function(){return _e(!1)},handleDeleteNode:function(e){return nt.apply(this,arguments)},handleError:Qe,neurons:n}),Object(K.jsx)(oe,{showChooseRuleModal:se,handleCloseChooseRuleModal:Ve,rules:it,handleChosenRules:function(e){Ve(),a((function(t){for(var n in t)for(var a in e)if(n==a){var r=ee(e[a]),s=Object(b.a)(r,6),i=(s[0],s[1],s[2],s[3],s[4],s[5]);t[n].delay=i,t[n].currentRule=e[a],t[n].chosenRule=e[a]}})),He(!0)}}),q]})})})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,203)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))},Ee=n(104),Me=n.n(Ee),_e=n(105),De=n.n(_e);B.a.use(Me.a),B.a.use(De.a),c.a.render(Object(K.jsx)(s.a.StrictMode,{children:Object(K.jsx)(Ne,{})}),document.getElementById("root")),Re()}},[[179,1,2]]]);
//# sourceMappingURL=main.8e6c052a.chunk.js.map